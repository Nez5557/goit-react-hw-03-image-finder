{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","Services/PixabayAPI.js","App.js","index.js"],"names":["Searchbar","state","inputValue","inputHandler","evt","setState","target","value","submitHandler","preventDefault","onSubmit","props","reset","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","clickHandler","openImage","id","url","onClick","src","alt","defaultProps","Button","totalElements","window","scrollTo","top","document","documentElement","scrollHeight","behavior","text","Loader","color","height","width","timeout","Modal","keyDownHandler","modalToggle","code","currentTarget","addEventListener","removeEventListener","fetchImages","searchQuery","page","axios","get","then","responce","data","hits","App","modalShow","pageNumber","images","modalImageURL","loader","error","toggleModal","clickImage","filter","item","Number","largeImageURL","getSearchQuery","query","getItemsForGallery","a","newImages","length","prevProps","prevState","map","webformatURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b576ff60.chunk.js","sourcesContent":["import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  inputHandler = (evt) => {\r\n    this.setState({ inputValue: evt.target.value });\r\n  };\r\n\r\n  submitHandler = (evt) => {\r\n    evt.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    onSubmit(this.state.inputValue);\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    const { inputHandler, submitHandler } = this;\r\n\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={submitHandler} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            onChange={inputHandler}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={inputValue}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n  };\r\n\r\n  render() {\r\n    return <ul className=\"ImageGallery\">{this.props.children}</ul>;\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static defaultProps = {\r\n    url: \"https://static8.depositphotos.com/1431107/919/i/600/depositphotos_9199988-stock-photo-oops-icon.jpg\",\r\n  };\r\n\r\n  static propTypes = {\r\n    openImage: PropTypes.func.isRequired,\r\n    url: PropTypes.string,\r\n    id: PropTypes.number.isRequired,\r\n  };\r\n\r\n  clickHandler = (evt) => {\r\n    const { openImage } = this.props;\r\n    const id = evt.target.id;\r\n    openImage(id);\r\n  };\r\n\r\n  render() {\r\n    const { url, id } = this.props;\r\n\r\n    return (\r\n      <li key={id} className=\"ImageGalleryItem\">\r\n        <img\r\n          onClick={this.clickHandler}\r\n          id={id}\r\n          src={url}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Button extends Component {\r\n  static defaultProps = {\r\n    text: \"Just Button\",\r\n    totalElements: 1,\r\n  };\r\n\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    totalElements: PropTypes.number,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { totalElements } = this.props;\r\n    if (totalElements > 10) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { text, onClick } = this.props;\r\n    return (\r\n      <button className=\"Button\" onClick={onClick} type=\"button\">\r\n        {text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <LoaderSpinner\r\n        className=\"Loader\"\r\n        type=\"ThreeDots\"\r\n        color=\"#3f51b5\"\r\n        height={50}\r\n        width={50}\r\n        timeout={10000} //10 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    modalToggle: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.keyDownHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.keyDownHandler);\r\n  }\r\n\r\n  keyDownHandler = (evt) => {\r\n    const { modalToggle } = this.props;\r\n    if (evt.code === \"Escape\") {\r\n      modalToggle();\r\n    }\r\n  };\r\n\r\n  clickHandler = (evt) => {\r\n    const { modalToggle } = this.props;\r\n    if (evt.target === evt.currentTarget) {\r\n      modalToggle();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div onClick={this.clickHandler} className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={url} alt=\"full size\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst BASIC_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"21838364-8451c122c72af9b2106f1fefd\";\r\n\r\nfunction fetchImages(searchQuery, page) {\r\n  return axios\r\n    .get(\r\n      `${BASIC_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=10`\r\n    )\r\n    .then((responce) => responce.data.hits);\r\n}\r\n\r\n// fetchImages('footbal', '1')\r\n\r\nexport default fetchImages;\r\n","import { Component } from \"react\";\r\n\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport ImageGalleryItem from \"./components/ImageGalleryItem\";\r\nimport Button from \"./components/Button\";\r\nimport Loader from \"./components/Loader/Loader\";\r\nimport Modal from \"./components/Modal\";\r\n\r\nimport fetchImages from \"./Services/PixabayAPI\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n    modalShow: false,\r\n    pageNumber: 1,\r\n    images: [],\r\n    modalImageURL: \"\",\r\n    loader: false,\r\n    error: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.getItemsForGallery();\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState({ modalShow: !this.state.modalShow });\r\n  };\r\n\r\n  openImage = (id) => {\r\n    this.toggleModal();\r\n    const { images } = this.state;\r\n    const clickImage = images.filter((item) => item.id === Number(id));\r\n    this.setState({ modalImageURL: clickImage[0].largeImageURL });\r\n  };\r\n\r\n  getSearchQuery = (query) => {\r\n    if (query === this.state.searchQuery) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      searchQuery: query,\r\n      images: [],\r\n      pageNumber: 1,\r\n      error: \"\",\r\n    });\r\n  };\r\n\r\n  getItemsForGallery = async () => {\r\n    this.setState({ loader: true });\r\n\r\n    const { searchQuery, pageNumber } = this.state;\r\n    try {\r\n      const newImages = await fetchImages(searchQuery, pageNumber);\r\n      if (newImages.length === 0) {\r\n        this.setState({ error: \"empty responce\" });\r\n      }\r\n\r\n      this.setState(({ images, pageNumber }) => {\r\n        return {\r\n          images: [...images, ...newImages],\r\n          pageNumber: pageNumber + 1,\r\n        };\r\n      });\r\n    } catch (error) {\r\n      this.setState({ error: error });\r\n    }\r\n\r\n    this.setState({ loader: false });\r\n  };\r\n\r\n  render() {\r\n    const { images, modalImageURL, loader, error } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.getSearchQuery} />\r\n        <ImageGallery>\r\n          {images.map((item) => (\r\n            <ImageGalleryItem\r\n              key={item.id}\r\n              id={item.id}\r\n              url={item.webformatURL}\r\n              openImage={this.openImage}\r\n            ></ImageGalleryItem>\r\n          ))}\r\n        </ImageGallery>\r\n\r\n        {error && (\r\n          <p>oops... something went wrong, try again later or change query</p>\r\n        )}\r\n\r\n        {loader && <Loader />}\r\n\r\n        {images.length > 0 && !loader && (\r\n          <Button\r\n            onClick={this.getItemsForGallery}\r\n            text={\"load more\"}\r\n            totalElements={images.length}\r\n          />\r\n        )}\r\n\r\n        {this.state.modalShow && (\r\n          <Modal url={modalImageURL} modalToggle={this.toggleModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./Styles.css\";\r\nimport \"modern-normalize\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}